import{$ as Ve,$a as M,$b as oi,$c as ya,Aa as D,Ac as pa,Ba as g,Bc as ha,C as ke,Ca as _,Cb as Hi,Cc as di,D as ei,Da as be,Db as ht,Dc as mi,E as _e,Ea as ve,Eb as Ae,Ec as Ct,Fa as h,Fb as Gi,Fc as kt,Ga as o,Gc as Dt,Ha as l,Hb as te,Hc as Pe,I as Oe,Ia as y,Ib as Be,Ic as wt,J as nt,Ja as xe,Jb as ut,Jc as xt,K as V,Ka as Me,Kb as gt,Kc as Mt,La as Qe,Lb as le,Lc as St,M as T,Ma as ct,Mb as R,Mc as At,N as Ti,Na as S,Nb as ni,Nc as Le,O as d,Oa as ii,Ob as ji,Oc as ua,Pa as u,Pb as Wi,Pc as ga,Qa as p,Qb as qi,Qc as U,Ra as oe,Rb as Ie,Rc as It,S as f,Sa as Z,Sb as _t,Sc as Et,T as b,Ta as Se,Tb as Ki,Tc as _a,U as $,Ua as N,Ub as Qi,Uc as Ee,V as Ke,Va as I,Vb as Ui,Vc as pi,W as De,Wa as E,Wb as he,Wc as Tt,X as rt,Xa as Fi,Xb as Y,Xc as fa,Ya as Ri,Yb as Xi,Yc as hi,Za as me,Zb as $i,Zc as ba,_ as v,_a as J,_b as ri,_c as va,ab as se,ac as Zi,ad as Ca,bb as m,bc as Ji,bd as Xe,c as ne,ca as x,cb as w,cc as ft,cd as ka,da as ot,db as z,dc as ea,dd as Ot,eb as Ue,ec as ta,ed as Vt,f as P,fa as re,fb as dt,fc as ia,fd as Da,ga as ti,gb as mt,gc as bt,gd as wa,ha as L,hb as pt,hc as aa,hd as Ft,ib as pe,ic as na,id as ui,j as it,ja as st,jb as Bi,jc as si,jd as Rt,ka as c,kc as q,kd as Bt,la as Fe,lc as K,ld as Ne,ma as fe,mb as ai,mc as ue,md as Pt,n as Jt,na as Oi,nb as Re,nc as ie,nd as ze,oa as Vi,ob as Pi,oc as Q,od as xa,pb as Li,pc as ra,pd as Lt,qb as Ni,qc as vt,qd as Nt,r as Ai,ra as C,rb as O,rc as li,rd as Ye,s as ge,sa as F,sb as A,sc as ci,t as qe,ta as W,tb as ee,tc as oa,ua as lt,uc as sa,va as we,vb as zi,vc as yt,w as Ii,wb as Yi,wc as la,x as at,xc as ca,y as Ei,yc as da,zc as ma}from"./chunk-5FQKJEJU.js";var ln=["*"];var cn=new T("MAT_CARD_CONFIG"),Ma=(()=>{class a{appearance;constructor(){let e=d(cn,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(t,i){t&2&&M("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")("mat-mdc-card-filled",i.appearance==="filled")("mdc-card--filled",i.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ln,decls:1,vars:0,template:function(t,i){t&1&&(oe(),Z(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return a})();var Sa=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275dir=W({type:a,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return a})();var Aa=(()=>{class a{align="start";static \u0275fac=function(t){return new(t||a)};static \u0275dir=W({type:a,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,i){t&2&&M("mat-mdc-card-actions-align-end",i.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return a})();var Ia=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=F({type:a});static \u0275inj=V({imports:[R]})}return a})();var mn=new T("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var zt=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=F({type:a});static \u0275inj=V({providers:[ut,{provide:mn,useValue:{separatorKeyCodes:[13]}}],imports:[ft,R]})}return a})();var Ea=(()=>{class a{get vertical(){return this._vertical}set vertical(e){this._vertical=oi(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=oi(e)}_inset=!1;static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){t&2&&(D("aria-orientation",i.vertical?"vertical":"horizontal"),M("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return a})(),Ta=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=F({type:a});static \u0275inj=V({imports:[R]})}return a})();var hn=["mat-calendar-body",""];function un(a,r){return this._trackRow(r)}var La=(a,r)=>r.id;function gn(a,r){if(a&1&&(o(0,"tr",0)(1,"td",3),m(2),l()()),a&2){let e=p();c(),J("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),D("colspan",e.numCols),c(),z(" ",e.label," ")}}function _n(a,r){if(a&1&&(o(0,"td",3),m(1),l()),a&2){let e=p(2);J("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),D("colspan",e._firstRowOffset),c(),z(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function fn(a,r){if(a&1){let e=S();o(0,"td",6)(1,"button",7),u("click",function(i){let n=f(e).$implicit,s=p(2);return b(s._cellClicked(n,i))})("focus",function(i){let n=f(e).$implicit,s=p(2);return b(s._emitActiveDateChange(n,i))}),o(2,"span",8),m(3),l(),y(4,"span",9),l()()}if(a&2){let e=r.$implicit,t=r.$index,i=p().$index,n=p();J("width",n._cellWidth)("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),D("data-mat-row",i)("data-mat-col",t),c(),M("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",n._isActiveCell(i,t))("mat-calendar-body-range-start",n._isRangeStart(e.compareValue))("mat-calendar-body-range-end",n._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",n._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",n._isComparisonBridgeStart(e.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",n._isComparisonBridgeEnd(e.compareValue,i,t))("mat-calendar-body-comparison-start",n._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",n._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",n._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",n._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",n._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",n._isInPreview(e.compareValue)),h("ngClass",e.cssClasses)("tabindex",n._isActiveCell(i,t)?0:-1),D("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",n._isSelected(e.compareValue))("aria-current",n.todayValue===e.compareValue?"date":null)("aria-describedby",n._getDescribedby(e.compareValue)),c(),M("mat-calendar-body-selected",n._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",n._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",n.todayValue===e.compareValue),c(),z(" ",e.displayValue," ")}}function bn(a,r){if(a&1&&(o(0,"tr",1),g(1,_n,2,6,"td",4),be(2,fn,5,48,"td",5,La),l()),a&2){let e=r.$implicit,t=r.$index,i=p();c(),_(t===0&&i._firstRowOffset?1:-1),c(),ve(e)}}function vn(a,r){if(a&1&&(o(0,"th",2)(1,"span",6),m(2),l(),o(3,"span",3),m(4),l()()),a&2){let e=r.$implicit;c(2),w(e.long),c(2),w(e.narrow)}}var yn=["*"];function Cn(a,r){}function kn(a,r){if(a&1){let e=S();o(0,"mat-month-view",4),pt("activeDateChange",function(i){f(e);let n=p();return mt(n.activeDate,i)||(n.activeDate=i),b(i)}),u("_userSelection",function(i){f(e);let n=p();return b(n._dateSelected(i))})("dragStarted",function(i){f(e);let n=p();return b(n._dragStarted(i))})("dragEnded",function(i){f(e);let n=p();return b(n._dragEnded(i))}),l()}if(a&2){let e=p();dt("activeDate",e.activeDate),h("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Dn(a,r){if(a&1){let e=S();o(0,"mat-year-view",5),pt("activeDateChange",function(i){f(e);let n=p();return mt(n.activeDate,i)||(n.activeDate=i),b(i)}),u("monthSelected",function(i){f(e);let n=p();return b(n._monthSelectedInYearView(i))})("selectedChange",function(i){f(e);let n=p();return b(n._goToDateInView(i,"month"))}),l()}if(a&2){let e=p();dt("activeDate",e.activeDate),h("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function wn(a,r){if(a&1){let e=S();o(0,"mat-multi-year-view",6),pt("activeDateChange",function(i){f(e);let n=p();return mt(n.activeDate,i)||(n.activeDate=i),b(i)}),u("yearSelected",function(i){f(e);let n=p();return b(n._yearSelectedInMultiYearView(i))})("selectedChange",function(i){f(e);let n=p();return b(n._goToDateInView(i,"year"))}),l()}if(a&2){let e=p();dt("activeDate",e.activeDate),h("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function xn(a,r){}var Mn=["button"],Sn=[[["","matDatepickerToggleIcon",""]]],An=["[matDatepickerToggleIcon]"];function In(a,r){a&1&&($(),o(0,"svg",2),y(1,"path",3),l())}var je=(()=>{class a{changes=new P;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static \u0275fac=function(t){return new(t||a)};static \u0275prov=nt({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),En=0,Ze=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=En++;constructor(r,e,t,i,n={},s=r,k){this.value=r,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.cssClasses=n,this.compareValue=s,this.rawValue=k}},Tn={passive:!1,capture:!0},Yt={passive:!0,capture:!0},Oa={passive:!0},Ge=(()=>{class a{_elementRef=d(L);_ngZone=d(Ve);_platform=d(Hi);_intl=d(je);_eventCleanups;_skipNextFocus=!1;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart=null;comparisonEnd=null;previewStart=null;previewEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;selectedValueChange=new v;previewChange=new v;activeDateChange=new v;dragStarted=new v;dragEnded=new v;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=d(De);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=d(fe),t=d(he);this._startDateLabelId=t.getId("mat-calendar-body-start-"),this._endDateLabelId=t.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=t.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=t.getId("mat-calendar-body-comparison-end-"),d(Ie).load(gt),this._ngZone.runOutsideAngular(()=>{let i=this._elementRef.nativeElement,n=[e.listen(i,"touchmove",this._touchmoveHandler,Tn),e.listen(i,"mouseenter",this._enterHandler,Yt),e.listen(i,"focus",this._enterHandler,Yt),e.listen(i,"mouseleave",this._leaveHandler,Yt),e.listen(i,"blur",this._leaveHandler,Yt),e.listen(i,"mousedown",this._mousedownHandler,Oa),e.listen(i,"touchstart",this._mousedownHandler,Oa)];this._platform.isBrowser&&n.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=n})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:i,numCols:n}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?n-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/n}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/n}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){Fe(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return fi(e,this.startValue,this.endValue)}_isRangeEnd(e){return bi(e,this.startValue,this.endValue)}_isInRange(e){return vi(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return fi(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let n=this.rows[t][i-1];if(!n){let s=this.rows[t-1];n=s&&s[s.length-1]}return n&&!this._isRangeEnd(n.compareValue)}_isComparisonBridgeEnd(e,t,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let n=this.rows[t][i+1];if(!n){let s=this.rows[t+1];n=s&&s[0]}return n&&!this._isRangeStart(n.compareValue)}_isComparisonEnd(e){return bi(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return vi(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return fi(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return bi(e,this.previewStart,this.previewEnd)}_isInPreview(e){return vi(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let t=Va(e),i=t?this._getCellFromElement(t):null;t!==e.target&&(this._didDragSinceMouseDown=!0),_i(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:i?.enabled?i:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let t=e.target&&this._getCellFromElement(e.target);!t||!this._isInRange(t.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:t.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let t=_i(e.target);if(!t){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}t.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let i=this._getCellFromElement(t);this.dragEnded.emit({value:i?.rawValue??null,event:e})})};_touchendHandler=e=>{let t=Va(e);t&&this._mouseupHandler({target:t})};_getCellFromElement(e){let t=_i(e);if(t){let i=t.getAttribute("data-mat-row"),n=t.getAttribute("data-mat-col");if(i&&n)return this.rows[parseInt(i)]?.[parseInt(n)]||null}return null}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[re],attrs:hn,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){t&1&&(g(0,gn,3,6,"tr",0),be(1,bn,4,1,"tr",1,un,!0),o(3,"span",2),m(4),l(),o(5,"span",2),m(6),l(),o(7,"span",2),m(8),l(),o(9,"span",2),m(10),l()),t&2&&(_(i._firstRowOffset<i.labelMinRequiredCells?0:-1),c(),ve(i.rows),c(2),h("id",i._startDateLabelId),c(),z(" ",i.startDateAccessibleName,`
`),c(),h("id",i._endDateLabelId),c(),z(" ",i.endDateAccessibleName,`
`),c(),h("id",i._comparisonStartDateLabelId),c(),Ue(" ",i.comparisonDateAccessibleName," ",i.startDateAccessibleName,`
`),c(),h("id",i._comparisonEndDateLabelId),c(),Ue(" ",i.comparisonDateAccessibleName," ",i.endDateAccessibleName,`
`))},dependencies:[zi],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return a})();function gi(a){return a?.nodeName==="TD"}function _i(a){let r;return gi(a)?r=a:gi(a.parentNode)?r=a.parentNode:gi(a.parentNode?.parentNode)&&(r=a.parentNode.parentNode),r?.getAttribute("data-mat-row")!=null?r:null}function fi(a,r,e){return e!==null&&r!==e&&a<e&&a===r}function bi(a,r,e){return r!==null&&r!==e&&a>=r&&a===e}function vi(a,r,e,t){return t&&r!==null&&e!==null&&r!==e&&a>=r&&a<=e}function Va(a){let r=a.changedTouches[0];return document.elementFromPoint(r.clientX,r.clientY)}var X=class{start;end;_disableStructuralEquivalency;constructor(r,e){this.start=r,this.end=e}},Je=(()=>{class a{selection;_adapter;_selectionChanged=new P;selectionChanged=this._selectionChanged;constructor(e,t){this.selection=e,this._adapter=t,this.selection=e}updateSelection(e,t){let i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(t){Oi()};static \u0275prov=nt({token:a,factory:a.\u0275fac})}return a})(),On=(()=>{class a extends Je{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new a(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(t){return new(t||a)(Ti(te))};static \u0275prov=nt({token:a,factory:a.\u0275fac})}return a})();var Na={provide:Je,useFactory:()=>d(Je,{optional:!0,skipSelf:!0})||new On(d(te))};var za=new T("MAT_DATE_RANGE_SELECTION_STRATEGY");var yi=7,Vn=0,Fa=(()=>{class a{_changeDetectorRef=d(O);_dateFormats=d(Be,{optional:!0});_dateAdapter=d(te,{optional:!0});_dir=d(le,{optional:!0});_rangeStrategy=d(za,{optional:!0});_rerenderSubscription=ne.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof X?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;activeDrag=null;selectedChange=new v;_userSelection=new v;dragStarted=new v;dragEnded=new v;activeDateChange=new v;_matCalendarBody;_monthLabel=x("");_weeks=x([]);_firstWeekOffset=x(0);_rangeStart=x(null);_rangeEnd=x(null);_comparisonRangeStart=x(null);_comparisonRangeEnd=x(null);_previewStart=x(null);_previewEnd=x(null);_isRange=x(!1);_todayDate=x(null);_weekdays=x([]);constructor(){d(Ie).load(_t),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ke(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,i=this._getDateFromDayOfMonth(t),n,s;this._selected instanceof X?(n=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):n=s=this._getDateInCurrentMonth(this._selected),(n!==t||s!==t)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd()!=null&&!Y(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate.set(this._getCellCompareValue(this._dateAdapter.today())),this._monthLabel.set(this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase());let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset.set((yi+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%yi),this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let i=t?t.rawValue:null,n=this._rangeStrategy.createPreview(i,this.selected,e);if(this._previewStart.set(this._getCellCompareValue(n.start)),this._previewEnd.set(this._getCellCompareValue(n.end)),this.activeDrag&&i){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,e);s&&(this._previewStart.set(this._getCellCompareValue(s.start)),this._previewEnd.set(this._getCellCompareValue(s.end)))}}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map((s,k)=>({long:s,narrow:t[k],id:Vn++}));this._weekdays.set(n.slice(e).concat(n.slice(0,e)))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames(),i=[[]];for(let n=0,s=this._firstWeekOffset();n<e;n++,s++){s==yi&&(i.push([]),s=0);let k=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),B=this._shouldEnableDate(k),on=this._dateAdapter.format(k,this._dateFormats.display.dateA11yLabel),sn=this.dateClass?this.dateClass(k,"month"):void 0;i[i.length-1].push(new Ze(n+1,t[n],on,B,sn,this._getCellCompareValue(k),k))}this._weeks.set(i)}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),n=this._dateAdapter.getDate(e);return new Date(t,i,n).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof X?(this._rangeStart.set(this._getCellCompareValue(e.start)),this._rangeEnd.set(this._getCellCompareValue(e.end)),this._isRange.set(!0)):(this._rangeStart.set(this._getCellCompareValue(e)),this._rangeEnd.set(this._rangeStart()),this._isRange.set(!1)),this._comparisonRangeStart.set(this._getCellCompareValue(this.comparisonStart)),this._comparisonRangeEnd.set(this._getCellCompareValue(this.comparisonEnd))}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart.set(null),this._previewEnd.set(null)}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(t&1&&N(Ge,5),t&2){let n;I(n=E())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[re],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,i){t&1&&(o(0,"table",0)(1,"thead",1)(2,"tr"),be(3,vn,5,2,"th",2,La),l(),o(5,"tr",3),y(6,"th",4),l()(),o(7,"tbody",5),u("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("dragStarted",function(s){return i.dragStarted.emit(s)})("dragEnded",function(s){return i._dragEnded(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l()()),t&2&&(c(3),ve(i._weekdays()),c(4),h("label",i._monthLabel())("rows",i._weeks())("todayValue",i._todayDate())("startValue",i._rangeStart())("endValue",i._rangeEnd())("comparisonStart",i._comparisonRangeStart())("comparisonEnd",i._comparisonRangeEnd())("previewStart",i._previewStart())("previewEnd",i._previewEnd())("isRange",i._isRange())("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[Ge],encapsulation:2,changeDetection:0})}return a})(),j=24,Ci=4,Ra=(()=>{class a{_changeDetectorRef=d(O);_dateAdapter=d(te,{optional:!0});_dir=d(le,{optional:!0});_rerenderSubscription=ne.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),Ya(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof X?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;selectedChange=new v;yearSelected=new v;activeDateChange=new v;_matCalendarBody;_years=x([]);_todayYear=x(0);_selectedYear=x(null);constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ke(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear.set(this._dateAdapter.getYear(this._dateAdapter.today()));let t=this._dateAdapter.getYear(this._activeDate)-$e(this._dateAdapter,this.activeDate,this.minDate,this.maxDate),i=[];for(let n=0,s=[];n<j;n++)s.push(t+n),s.length==Ci&&(i.push(s.map(k=>this._createCellForYear(k))),s=[]);this._years.set(i),this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,i=this._dateAdapter.createDate(t,0,1),n=this._getDateFromYear(t);this.yearSelected.emit(i),this.selectedChange.emit(n)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ci);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ci);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-$e(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,j-$e(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-j*10:-j);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?j*10:j);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return $e(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(t),n=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new Ze(e,i,i,this._shouldEnableYear(e),n)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let i=t;this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear.set(null),e instanceof X){let t=e.start||e.end;t&&this._selectedYear.set(this._dateAdapter.getYear(t))}else e&&this._selectedYear.set(this._dateAdapter.getYear(e))}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(t&1&&N(Ge,5),t&2){let n;I(n=E())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(o(0,"table",0)(1,"thead",1)(2,"tr"),y(3,"th",2),l()(),o(4,"tbody",3),u("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l()()),t&2&&(c(4),h("rows",i._years())("todayValue",i._todayYear())("startValue",i._selectedYear())("endValue",i._selectedYear())("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Ge],encapsulation:2,changeDetection:0})}return a})();function Ya(a,r,e,t,i){let n=a.getYear(r),s=a.getYear(e),k=Ha(a,t,i);return Math.floor((n-k)/j)===Math.floor((s-k)/j)}function $e(a,r,e,t){let i=a.getYear(r);return Fn(i-Ha(a,e,t),j)}function Ha(a,r,e){let t=0;return e?t=a.getYear(e)-j+1:r&&(t=a.getYear(r)),t}function Fn(a,r){return(a%r+r)%r}var Ba=(()=>{class a{_changeDetectorRef=d(O);_dateFormats=d(Be,{optional:!0});_dateAdapter=d(te,{optional:!0});_dir=d(le,{optional:!0});_rerenderSubscription=ne.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof X?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;selectedChange=new v;monthSelected=new v;activeDateChange=new v;_matCalendarBody;_months=x([]);_yearLabel=x("");_todayMonth=x(null);_selectedMonth=x(null);constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ke(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(i);let n=this._getDateFromMonth(t);this.selectedChange.emit(n)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth.set(this._getMonthInCurrentYear(this._dateAdapter.today())),this._yearLabel.set(this._dateAdapter.getYearName(this.activeDate));let e=this._dateAdapter.getMonthNames("short");this._months.set([[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(i=>this._createCellForMonth(i,e[i])))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),n=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(i,"year"):void 0;return new Ze(e,t.toLocaleUpperCase(),n,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,e,1);for(let n=i;this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let i=this._dateAdapter.getYear(this.maxDate),n=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>n}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let i=this._dateAdapter.getYear(this.minDate),n=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<n}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof X?this._selectedMonth.set(this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end)):this._selectedMonth.set(this._getMonthInCurrentYear(e))}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(t&1&&N(Ge,5),t&2){let n;I(n=E())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(o(0,"table",0)(1,"thead",1)(2,"tr"),y(3,"th",2),l()(),o(4,"tbody",3),u("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l()()),t&2&&(c(4),h("label",i._yearLabel())("rows",i._months())("todayValue",i._todayMonth())("startValue",i._selectedMonth())("endValue",i._selectedMonth())("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Ge],encapsulation:2,changeDetection:0})}return a})(),Ga=(()=>{class a{_intl=d(je);calendar=d(ki);_dateAdapter=d(te,{optional:!0});_dateFormats=d(Be,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){d(Ie).load(_t);let e=d(O);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),e.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.previousEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-j))}nextClicked(){this.nextEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:j))}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){let e=this.calendar,t=this._intl,i=this._dateAdapter;e.currentView==="month"?(this._periodButtonText=i.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=i.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=t.switchToMultiYearViewLabel,this._prevButtonLabel=t.prevMonthLabel,this._nextButtonLabel=t.nextMonthLabel):e.currentView==="year"?(this._periodButtonText=i.getYearName(e.activeDate),this._periodButtonDescription=i.getYearName(e.activeDate),this._periodButtonLabel=t.switchToMonthViewLabel,this._prevButtonLabel=t.prevYearLabel,this._nextButtonLabel=t.nextYearLabel):(this._periodButtonText=t.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=t.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=t.switchToMonthViewLabel,this._prevButtonLabel=t.prevMultiYearLabel,this._nextButtonLabel=t.nextMultiYearLabel)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):Ya(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-$e(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=t+j-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return[n,s]}_periodButtonLabelId=d(he).getId("mat-calendar-period-label-");static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:yn,decls:17,vars:13,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-previous-button",3,"click","disabled","matTooltip"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-next-button",3,"click","disabled","matTooltip"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(t,i){t&1&&(oe(),o(0,"div",0)(1,"div",1)(2,"span",2),m(3),l(),o(4,"button",3),u("click",function(){return i.currentPeriodClicked()}),o(5,"span",4),m(6),l(),$(),o(7,"svg",5),y(8,"polygon",6),l()(),Ke(),y(9,"div",7),Z(10),o(11,"button",8),u("click",function(){return i.previousClicked()}),$(),o(12,"svg",9),y(13,"path",10),l()(),Ke(),o(14,"button",11),u("click",function(){return i.nextClicked()}),$(),o(15,"svg",9),y(16,"path",12),l()()()()),t&2&&(c(2),h("id",i._periodButtonLabelId),c(),w(i.periodButtonDescription),c(),D("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),c(2),w(i.periodButtonText),c(),M("mat-calendar-invert",i.calendar.currentView!=="month"),c(4),h("disabled",!i.previousEnabled())("matTooltip",i.prevButtonLabel),D("aria-label",i.prevButtonLabel),c(3),h("disabled",!i.nextEnabled())("matTooltip",i.nextButtonLabel),D("aria-label",i.nextButtonLabel))},dependencies:[ie,ue,Ne],encapsulation:2,changeDetection:0})}return a})(),ki=(()=>{class a{_dateAdapter=d(te,{optional:!0});_dateFormats=d(Be,{optional:!0});_changeDetectorRef=d(O);_elementRef=d(L);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt=null;startView="month";get selected(){return this._selected}set selected(e){e instanceof X?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;selectedChange=new v;yearSelected=new v;monthSelected=new v;viewChanged=new v(!0);_userSelection=new v;_userDragDrop=new v;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&(this.stateChanges.next(),this.viewChanged.emit(t))}_currentView;_activeDrag=null;stateChanges=new P;constructor(){this._intlChanges=d(je).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new li(this.headerComponent||Ga),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,n=t||i||e.dateFilter;if(n&&!n.firstChange){let s=this._getCurrentViewComponent();s&&(this._elementRef.nativeElement.contains(ni())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()?._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()?._init()}_dateSelected(e){let t=e.value;(this.selected instanceof X||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(t&1&&N(Fa,5)(Ba,5)(Ra,5),t&2){let n;I(n=E())&&(i.monthView=n.first),I(n=E())&&(i.yearView=n.first),I(n=E())&&(i.multiYearView=n.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[pe([Na]),re],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,i){if(t&1&&(we(0,Cn,0,0,"ng-template",0),o(1,"div",1),g(2,kn,1,11,"mat-month-view",2)(3,Dn,1,6,"mat-year-view",3)(4,wn,1,6,"mat-multi-year-view",3),l()),t&2){let n;h("cdkPortalOutlet",i._calendarHeaderPortal),c(2),_((n=i.currentView)==="month"?2:n==="year"?3:n==="multi-year"?4:-1)}},dependencies:[ci,qi,Fa,Ba,Ra],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus-visible .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return a})(),Rn=new T("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let a=d(De);return()=>yt(a)}}),ja=(()=>{class a{_elementRef=d(L);_animationsDisabled=Ae();_changeDetectorRef=d(O);_globalModel=d(Je);_dateAdapter=d(te);_ngZone=d(Ve);_rangeSelectionStrategy=d(za,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;_isAbove=!1;_animationDone=new P;_isAnimating=!1;_closeButtonText;_closeButtonFocused=!1;_actionsPortal=null;_dialogLabelId=null;constructor(){if(d(Ie).load(_t),this._closeButtonText=d(je).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,t=d(fe);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"animationstart",this._handleAnimationEvent),t.listen(e,"animationend",this._handleAnimationEvent),t.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,i=e.value,n=t instanceof X;if(n&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(i,t,e.event);this._model.updateSelection(s,this)}else i&&(n||!this._dateAdapter.sameDate(i,t))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let t=this._elementRef.nativeElement;e.target!==t||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",t.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(t&1&&N(ki,5),t&2){let n;I(n=E())&&(i._calendar=n.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(t,i){t&2&&(se(i.color?"mat-"+i.color:""),M("mat-datepicker-content-touch",i.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!i._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"mat-calendar",1),u("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)})("_userDragDrop",function(s){return i._handleUserDragDrop(s)}),l(),we(2,xn,0,0,"ng-template",2),o(3,"button",3),u("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),m(4),l()()),t&2&&(M("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),D("aria-modal",!0)("aria-labelledby",i._dialogLabelId??void 0),c(),se(i.datepicker.panelClass),h("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),c(),h("cdkPortalOutlet",i._actionsPortal),c(),M("cdk-visually-hidden",!i._closeButtonFocused),h("color",i.color||"primary"),c(),w(i._closeButtonText))},dependencies:[Ki,ki,ci,ie],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return a})(),Pa=(()=>{class a{_injector=d(De);_viewContainerRef=d(Vi);_dateAdapter=d(te,{optional:!0});_dir=d(le,{optional:!0});_model=d(Je);_animationsDisabled=Ae();_scrollStrategy=d(Rn);_inputStateChanges=ne.EMPTY;_document=d(rt);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt=null;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new v;monthSelected=new v;viewChanged=new v(!0);dateClass;openedStream=new v;closedStream=new v;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=Zi(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=d(he).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef=null;_componentRef=null;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal=null;datepickerInput;stateChanges=new P;_changeDetectorRef=d(O);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let i=this._overlayRef.getConfig().positionStrategy;i instanceof da&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=ni(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:i,location:n}=this._componentRef;i._animationDone.pipe(at(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||n.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),i._startExitAnimation()}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new li(ja,this._viewContainerRef),i=this._overlayRef=ha(this._injector,new la({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?sa(this._injector):this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`,disableAnimations:this._animationsDisabled}));this._getCloseStream(i).subscribe(n=>{n&&n.preventDefault(),this.close()}),i.keydownEvents().subscribe(n=>{let s=n.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&n.preventDefault()}),this._componentRef=i.attach(t),this._forwardContentValues(this._componentRef.instance),e||Fe(()=>{i.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return ma(this._injector).centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=ca(this._injector,this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",i=t==="start"?"end":"start",n=this.yPosition==="above"?"bottom":"top",s=n==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:s,overlayX:t,overlayY:n},{originX:t,originY:n,overlayX:t,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:n},{originX:i,originY:n,overlayX:i,overlayY:s}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return ge(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(qe(i=>i.keyCode===27&&!Y(i)||this.datepickerInput&&Y(i,"altKey")&&i.keyCode===38&&t.every(n=>!Y(i,n)))))}static \u0275fac=function(t){return new(t||a)};static \u0275dir=W({type:a,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",A],disabled:[2,"disabled","disabled",A],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",A],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",A]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[re]})}return a})(),Wa=(()=>{class a extends Pa{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ti(a)))(i||a)}})();static \u0275cmp=C({type:a,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[pe([Na,{provide:Pa,useExisting:a}]),lt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}return a})(),He=class{target;targetElement;value=null;constructor(r,e){this.target=r,this.targetElement=e,this.value=this.target.value}},Bn=(()=>{class a{_elementRef=d(L);_dateAdapter=d(te,{optional:!0});_dateFormats=d(Be,{optional:!0});_isInitialized=!1;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e,!0)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,i=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&i.blur&&i.blur()}_disabled;dateChange=new v;dateInput=new v;stateChanges=new P;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=ne.EMPTY;_localeSubscription=ne.EMPTY;_pendingValue=null;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!t||this._matchesFilter(t)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMinDate();return!i||!t||this._dateAdapter.compareDate(i,t)<=0?null:{matDatepickerMin:{min:i,actual:t}}};_maxValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMaxDate();return!i||!t||this._dateAdapter.compareDate(i,t)>=0?null:{matDatepickerMax:{max:i,actual:t}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let i=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new He(this,this._elementRef.nativeElement)),this.dateChange.emit(new He(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value,!0)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){Pn(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e,e!==this.value)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];Y(e,"altKey")&&e.keyCode===40&&t.every(n=>!Y(e,n))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=e.target.value,i=this._lastValueValid,n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);let s=!this._dateAdapter.sameDate(n,this.value);!n||s?this._cvaOnChange(n):(t&&!this.value&&this._cvaOnChange(n),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(n),this.dateInput.emit(new He(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new He(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e,t){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),t&&this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}static \u0275fac=function(t){return new(t||a)};static \u0275dir=W({type:a,inputs:{value:"value",disabled:[2,"disabled","disabled",A]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[re]})}return a})();function Pn(a,r){let e=Object.keys(a);for(let t of e){let{previousValue:i,currentValue:n}=a[t];if(r.isDateInstance(i)&&r.isDateInstance(n)){if(!r.sameDate(i,n))return!0}else return!0}return!1}var Ln={provide:It,useExisting:Oe(()=>Wt),multi:!0},Nn={provide:_a,useExisting:Oe(()=>Wt),multi:!0},Wt=(()=>{class a extends Bn{_formField=d(Rt,{optional:!0});_closedSubscription=ne.EMPTY;_openedSubscription=ne.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=x(null);get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}_min=null;get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}_max=null;get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}_dateFilter;_validator=null;constructor(){super(),this._validator=Ee.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(t){return new(t||a)};static \u0275dir=W({type:a,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){t&1&&u("input",function(s){return i._onInput(s)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),t&2&&(ii("disabled",i.disabled),D("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",i._ariaOwns())("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[pe([Ln,Nn,{provide:xa,useExisting:a}]),lt]})}return a})(),zn=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275dir=W({type:a,selectors:[["","matDatepickerToggleIcon",""]]})}return a})(),xi=(()=>{class a{_intl=d(je);_changeDetectorRef=d(O);_stateChanges=ne.EMPTY;datepicker;tabIndex=null;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple=!1;_customIcon;_button;constructor(){let e=d(new Re("tabindex"),{optional:!0}),t=Number(e);this.tabIndex=t||t===0?t:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:it(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:it(),i=this.datepicker?ge(this.datepicker.openedStream,this.datepicker.closedStream):it();this._stateChanges.unsubscribe(),this._stateChanges=ge(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,n){if(t&1&&Se(n,zn,5),t&2){let s;I(s=E())&&(i._customIcon=s.first)}},viewQuery:function(t,i){if(t&1&&N(Mn,5),t&2){let n;I(n=E())&&(i._button=n.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){t&1&&u("click",function(s){return i._open(s)}),t&2&&(D("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),M("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&i.datepicker.color==="accent")("mat-warn",i.datepicker&&i.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",A],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[re],ngContentSelectors:An,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){t&1&&(oe(Sn),o(0,"button",1,0),g(2,In,2,0,":svg:svg",2),Z(3),l()),t&2&&(h("tabIndex",i.disabled?-1:i.tabIndex)("disabled",i.disabled)("disableRipple",i.disableRipple),D("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("aria-expanded",i.datepicker?i.datepicker.opened:null),c(2),_(i._customIcon?-1:2))},dependencies:[ue],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle button{color:inherit}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return a})();var qa=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=F({type:a});static \u0275inj=V({providers:[je],imports:[Q,Ct,Ui,oa,ja,xi,Ga,R,vt]})}return a})();function qn(a,r){a&1&&(o(0,"mat-error"),m(1,"Borrower name is required"),l())}function Kn(a,r){a&1&&(o(0,"mat-error"),m(1,"Due date is required"),l())}function Qn(a,r){a&1&&(o(0,"mat-error"),m(1,"Due date must be in the future"),l())}function Un(a,r){a&1&&(o(0,"mat-error"),m(1,"Invalid date format"),l())}var We=class a{fb=d(ka);dialogRef=d(kt);store=d(U);data=d(Dt);minDate=new Date;form=this.fb.group({borrower:["",Ee.required],dueDate:[null,Ee.required]});submit(){if(this.form.invalid)return;let{borrower:r,dueDate:e}=this.form.getRawValue(),t=e?this.toLocalDateString(e):"";this.store.checkOut(this.data.book.id,r??"",t),this.dialogRef.close()}toLocalDateString(r){let e=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),i=String(r.getDate()).padStart(2,"0");return`${e}-${t}-${i}`}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["app-lending-form"]],decls:30,vars:10,consts:[["picker",""],["mat-dialog-title","",1,"form-title"],[1,"subtitle"],[1,"form-content"],[1,"lending-form",3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","borrower","placeholder","Name of the person"],["matPrefix",""],["matInput","","formControlName","dueDate","placeholder","Select date",3,"click","matDatepicker","min"],["matSuffix","",3,"for"],["align","end",1,"form-actions"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",1,"submit-btn",3,"click","disabled"]],template:function(e,t){if(e&1){let i=S();o(0,"h2",1),m(1," Check Out Book "),o(2,"span",2),m(3),l()(),o(4,"mat-dialog-content",3)(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),m(8,"Borrower Name"),l(),y(9,"input",6),o(10,"mat-icon",7),m(11,"person"),l(),g(12,qn,2,0,"mat-error"),l(),o(13,"mat-form-field",5)(14,"mat-label"),m(15,"Due Date"),l(),o(16,"input",8),u("click",function(){f(i);let s=me(21);return b(s.open())}),l(),o(17,"mat-icon",7),m(18,"calendar_today"),l(),y(19,"mat-datepicker-toggle",9)(20,"mat-datepicker",null,0),g(22,Kn,2,0,"mat-error"),g(23,Qn,2,0,"mat-error"),g(24,Un,2,0,"mat-error"),l()()(),o(25,"mat-dialog-actions",10)(26,"button",11),m(27,"Cancel"),l(),o(28,"button",12),u("click",function(){return f(i),b(t.submit())}),m(29," Confirm Check Out "),l()()}if(e&2){let i,n,s,k,B=me(21);c(3),w(t.data.book.title),c(2),h("formGroup",t.form),c(7),_((i=t.form.get("borrower"))!=null&&i.hasError("required")&&((i=t.form.get("borrower"))!=null&&i.touched)?12:-1),c(4),h("matDatepicker",B)("min",t.minDate),c(3),h("for",B),c(3),_((n=t.form.get("dueDate"))!=null&&n.hasError("required")&&((n=t.form.get("dueDate"))!=null&&n.touched)?22:-1),c(),_((s=t.form.get("dueDate"))!=null&&s.hasError("matDatepickerMin")&&((s=t.form.get("dueDate"))!=null&&s.touched)?23:-1),c(),_((k=t.form.get("dueDate"))!=null&&k.hasError("matDatepickerParse")&&((k=t.form.get("dueDate"))!=null&&k.touched)?24:-1),c(4),h("disabled",t.form.invalid)}},dependencies:[Ot,va,Et,Tt,fa,Xe,Ca,At,wt,xt,St,Mt,ze,Bt,Vt,Da,wa,Ft,Nt,Lt,Q,ie,qa,Wa,Wt,xi,K,q],styles:[".form-title[_ngcontent-%COMP%]{padding:24px 24px 16px;margin:0;font-size:1.5rem;font-weight:800;color:var(--text-primary);display:flex;flex-direction:column;gap:4px}.form-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;color:var(--text-secondary);display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.form-content[_ngcontent-%COMP%]{padding:0 24px 24px!important}.lending-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding-top:12px}.full-width[_ngcontent-%COMP%]{width:100%}.submit-btn[_ngcontent-%COMP%]{font-weight:600;border-radius:var(--radius-sm)}mat-icon[matPrefix][_ngcontent-%COMP%]{margin-right:8px;color:var(--text-muted);font-size:20px;width:20px;height:20px}"],changeDetection:0})};function Xn(a,r){if(a&1&&y(0,"img",2),a&2){let e=p();h("src",e.book.thumbnail,st)("alt",e.book.title+" cover")}}function $n(a,r){a&1&&(o(0,"div",3)(1,"mat-icon"),m(2,"menu_book"),l()())}function Zn(a,r){a&1&&(o(0,"span",21)(1,"mat-icon"),m(2,"priority_high"),l(),m(3," Overdue "),l())}function Jn(a,r){if(a&1&&(o(0,"span",20)(1,"mat-icon"),m(2,"person"),l(),m(3),l(),g(4,Zn,4,0,"span",21)),a&2){let e=p(2);c(3),Ue(" Checked out \xB7 ",e.book.checkedOutBy,", due date \xB7 ",e.book.dueDate," "),c(),_(e.store.isOverdue(e.book)?4:-1)}}function er(a,r){a&1&&(o(0,"span",19)(1,"mat-icon"),m(2,"check_circle"),l(),m(3," Available "),l())}function tr(a,r){if(a&1&&g(0,Jn,5,3)(1,er,4,0,"span",19),a&2){let e=p();_(e.book.isCheckedOut?0:1)}}function ir(a,r){a&1&&(o(0,"span",8)(1,"mat-icon"),m(2,"public"),l(),m(3," External Title "),l())}function ar(a,r){if(a&1&&(o(0,"span",10),m(1),l()),a&2){let e=p();c(),w(e.book.categories)}}function nr(a,r){if(a&1&&(o(0,"span",10),m(1),l()),a&2){let e=p();c(),w(e.book.publishedDate)}}function rr(a,r){if(a&1&&(o(0,"span",10),m(1),l()),a&2){let e=p();c(),z("",e.book.pageCount," pages")}}function or(a,r){if(a&1&&(o(0,"span",10),m(1),l()),a&2){let e=p();c(),z("Cat# ",e.book.catalogNumber)}}function sr(a,r){if(a&1&&(o(0,"p"),m(1),l()),a&2){let e=p();c(),w(e.book.description)}}function lr(a,r){a&1&&(o(0,"p",13),m(1,"No description available for this title."),l())}function cr(a,r){if(a&1){let e=S();o(0,"button",23),u("click",function(){f(e);let i=p(2);return b(i.checkIn())}),o(1,"mat-icon"),m(2,"assignment_return"),l(),m(3," Check In "),l()}}function dr(a,r){if(a&1){let e=S();o(0,"button",24),u("click",function(){f(e);let i=p(2);return b(i.openLending())}),o(1,"mat-icon"),m(2,"assignment_ind"),l(),m(3," Check Out "),l()}}function mr(a,r){if(a&1&&g(0,cr,4,0,"button",22)(1,dr,4,0,"button",17),a&2){let e=p();_(e.book.isCheckedOut?0:1)}}function pr(a,r){if(a&1){let e=S();o(0,"button",24),u("click",function(){f(e);let i=p();return b(i.addToLibrary())}),o(1,"mat-icon"),m(2,"library_add"),l(),m(3," Add "),l()}}function hr(a,r){if(a&1){let e=S();o(0,"button",25),u("click",function(){f(e);let i=p();return b(i.openEdit())}),o(1,"mat-icon"),m(2,"edit"),l()()}}var Kt=class a{dialogRef=d(kt);dialog=d(Pe);ViewMode=Le;store=d(U);data=d(Dt);get book(){return this.data.book}openEdit(){this.dialogRef.close(),this.dialog.open(Ye,{width:"600px",maxWidth:"95vw",data:{book:this.book}})}openLending(){this.dialogRef.close(),this.dialog.open(We,{width:"400px",maxWidth:"95vw",data:{book:this.book}})}checkIn(){this.store.checkIn(this.book.id),this.dialogRef.close()}addToLibrary(){this.store.addBook(this.book),this.dialogRef.close()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["app-book-detail"]],decls:30,vars:12,consts:[[1,"detail-header"],[1,"cover-wrap"],[1,"cover",3,"src","alt"],[1,"cover-placeholder"],[1,"meta"],["mat-dialog-title","",1,"book-title"],[1,"authors"],[1,"status-chips"],[1,"status-badge","external"],[1,"meta-chips"],[1,"meta-chip"],[1,"description"],[1,"section-title"],[1,"empty-desc"],["align","end",1,"actions"],[1,"flex-spacer"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary"],["mat-icon-button","","matTooltip","Edit Book"],[1,"status-badge","available"],[1,"status-badge","checked-out"],[1,"status-badge","overdue"],["mat-stroked-button","","color","warn"],["mat-stroked-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"],["mat-icon-button","","matTooltip","Edit Book",3,"click"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1),g(2,Xn,1,2,"img",2)(3,$n,3,0,"div",3),l(),o(4,"div",4)(5,"h2",5),m(6),l(),o(7,"p",6),m(8),l(),o(9,"div",7),g(10,tr,2,1)(11,ir,4,0,"span",8),l(),o(12,"div",9),g(13,ar,2,1,"span",10),g(14,nr,2,1,"span",10),g(15,rr,2,1,"span",10),g(16,or,2,1,"span",10),l()()(),y(17,"mat-divider"),o(18,"mat-dialog-content",11)(19,"h4",12),m(20,"Description"),l(),g(21,sr,2,1,"p")(22,lr,2,0,"p",13),l(),o(23,"mat-dialog-actions",14),g(24,mr,2,1),y(25,"span",15),o(26,"button",16),m(27,"Close"),l(),g(28,pr,4,0,"button",17),g(29,hr,3,0,"button",18),l()),e&2&&(c(2),_(t.book.thumbnail?2:3),c(4),w(t.book.title),c(2),w(t.book.authors),c(2),_(t.store.isInLibrary(t.book.id)?10:11),c(3),_(t.book.categories?13:-1),c(),_(t.book.publishedDate?14:-1),c(),_(t.book.pageCount?15:-1),c(),_(t.book.catalogNumber?16:-1),c(5),_(t.book.description?21:22),c(3),_(t.store.isInLibrary(t.book.id)?24:-1),c(4),_(t.store.isInLibrary(t.book.id)?-1:28),c(),_(t.store.viewMode()===t.ViewMode.INVENTORY?29:-1))},dependencies:[At,wt,xt,St,Mt,Q,ie,ue,zt,K,q,Ta,Ea],styles:[".detail-header[_ngcontent-%COMP%]{display:flex;gap:32px;padding:32px}.cover-wrap[_ngcontent-%COMP%]{flex-shrink:0}.cover[_ngcontent-%COMP%]{width:140px;border-radius:var(--radius-md);object-fit:contain;box-shadow:0 8px 24px #00000026;background:var(--bg-section);padding:8px}.cover-placeholder[_ngcontent-%COMP%]{width:140px;height:200px;border-radius:var(--radius-md);background:var(--bg-section);display:flex;align-items:center;justify-content:center}.cover-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;color:var(--text-disabled)}.meta[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:8px}.book-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;line-height:1.2;margin:0;color:var(--text-primary);letter-spacing:-.02em}.authors[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;font-weight:500;margin:0}.status-chips[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-wrap:wrap;gap:8px}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:999px;font-size:.85rem;font-weight:600}.status-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.status-badge.available[_ngcontent-%COMP%]{background:var(--color-success-lt);color:var(--color-success);border:1px solid var(--color-success);opacity:.85}.status-badge.checked-out[_ngcontent-%COMP%]{background:var(--color-warning-lt);color:var(--color-warning);border:1px solid var(--color-warning);opacity:.85}.status-badge.overdue[_ngcontent-%COMP%]{background:var(--color-danger-lt);color:var(--color-danger);border:1px solid var(--color-danger)}.status-badge.external[_ngcontent-%COMP%]{background:var(--color-external-lt);color:var(--color-external);border:1px solid var(--color-external);opacity:.85}.meta-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}.meta-chip[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:var(--text-muted);background:var(--bg-app);padding:4px 10px;border-radius:6px;border:1px solid var(--border)}.section-title[_ngcontent-%COMP%]{font-size:.9rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-muted);margin:0 0 12px}.description[_ngcontent-%COMP%]{line-height:1.7;color:var(--text-secondary);padding:24px 32px;font-size:1rem}.empty-desc[_ngcontent-%COMP%]{font-style:italic;opacity:.7}.flex-spacer[_ngcontent-%COMP%]{flex:1}@media(max-width:600px){.detail-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:24px;gap:20px}.meta[_ngcontent-%COMP%]{align-items:center}.meta-chips[_ngcontent-%COMP%]{justify-content:center}}"],changeDetection:0})};function gr(a,r){if(a&1&&y(0,"img",2),a&2){let e=p();h("src",e.book().thumbnail,st)("alt",e.book().title+" cover")}}function _r(a,r){a&1&&(o(0,"div",3)(1,"mat-icon"),m(2,"menu_book"),l()())}function fr(a,r){if(a&1&&(o(0,"mat-icon"),m(1),l(),m(2)),a&2){let e=p();c(),w(e.book().isCheckedOut?"person":"check_circle"),c(),z(" ",e.book().isCheckedOut?"Checked Out":"Available"," ")}}function br(a,r){a&1&&(o(0,"mat-icon"),m(1,"public"),l(),m(2," External "))}function vr(a,r){a&1&&(o(0,"div",5)(1,"mat-icon"),m(2,"priority_high"),l(),m(3," Overdue "),l())}function yr(a,r){if(a&1&&(o(0,"p",11),m(1),l()),a&2){let e=p();c(),w(e.book().publishedDate)}}function Cr(a,r){if(a&1){let e=S();o(0,"button",19),u("click",function(){f(e);let i=p(2);return b(i.checkIn())}),o(1,"mat-icon"),m(2,"assignment_return"),l()()}}function kr(a,r){if(a&1){let e=S();o(0,"button",20),u("click",function(){f(e);let i=p(2);return b(i.openLending())}),o(1,"mat-icon"),m(2,"assignment_ind"),l()()}}function Dr(a,r){if(a&1){let e=S();o(0,"button",13),u("click",function(){f(e);let i=p();return b(i.openDetail())}),o(1,"mat-icon"),m(2,"visibility"),l()(),o(3,"button",14),u("click",function(){f(e);let i=p();return b(i.openEdit())}),o(4,"mat-icon"),m(5,"edit"),l()(),g(6,Cr,3,0,"button",15)(7,kr,3,0,"button",16),y(8,"span",17),o(9,"button",18),u("click",function(){f(e);let i=p();return b(i.delete())}),o(10,"mat-icon"),m(11,"delete"),l()()}if(a&2){let e=p();c(6),_(e.book().isCheckedOut?6:7)}}function wr(a,r){if(a&1){let e=S();o(0,"button",21),u("click",function(){f(e);let i=p();return b(i.openDetail())}),o(1,"mat-icon"),m(2,"visibility"),l(),m(3," Details "),l(),y(4,"span",17),o(5,"button",22),u("click",function(){f(e);let i=p();return b(i.addToLibrary())}),o(6,"mat-icon"),m(7,"library_add"),l(),m(8," Add "),l()}}var Qt=class a{book=Li.required();store=d(U);dialog=d(Pe);openDetail(){this.dialog.open(Kt,{width:"640px",maxWidth:"95vw",data:{book:this.book()}})}openEdit(){this.dialog.open(Ye,{width:"600px",maxWidth:"95vw",data:{book:this.book()}})}openLending(){this.dialog.open(We,{width:"400px",maxWidth:"95vw",data:{book:this.book()}})}checkIn(){this.store.checkIn(this.book().id)}delete(){this.store.deleteBook(this.book().id)}addToLibrary(){this.store.addBook(this.book())}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["app-book-card"]],inputs:{book:[1,"book"]},decls:20,vars:16,consts:[["tabindex","0","role","article",1,"book-card",3,"click","keydown.enter"],[1,"card-cover"],["loading","lazy",3,"src","alt"],[1,"no-cover"],[1,"status-badge"],[1,"status-badge","overdue"],[1,"card-body"],[1,"book-title",3,"matTooltip"],[1,"book-authors"],[1,"card-footer"],[1,"catalog-num"],[1,"book-meta"],[1,"card-actions",3,"click"],["mat-icon-button","","matTooltip","View details","aria-label","View book details",3,"click"],["mat-icon-button","","matTooltip","Edit","aria-label","Edit book",3,"click"],["mat-icon-button","","matTooltip","Check in","aria-label","Check in book",1,"status-btn"],["mat-icon-button","","matTooltip","Check out","aria-label","Check out book",1,"status-btn"],[1,"spacer"],["mat-icon-button","","color","warn","matTooltip","Delete","aria-label","Delete book",3,"click"],["mat-icon-button","","matTooltip","Check in","aria-label","Check in book",1,"status-btn",3,"click"],["mat-icon-button","","matTooltip","Check out","aria-label","Check out book",1,"status-btn",3,"click"],["mat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){e&1&&(o(0,"mat-card",0),u("click",function(){return t.openDetail()})("keydown.enter",function(){return t.openDetail()}),o(1,"div",1),g(2,gr,1,2,"img",2)(3,_r,3,0,"div",3),o(4,"div",4),g(5,fr,3,2)(6,br,3,0),l(),g(7,vr,4,0,"div",5),l(),o(8,"mat-card-content",6)(9,"h3",7),m(10),l(),o(11,"p",8),m(12),l(),o(13,"div",9)(14,"p",10),m(15),l(),g(16,yr,2,1,"p",11),l()(),o(17,"mat-card-actions",12),u("click",function(n){return n.stopPropagation()}),g(18,Dr,12,1)(19,wr,9,0),l()()),e&2&&(D("aria-label",t.book().title),c(2),_(t.book().thumbnail?2:3),c(2),M("checked-out",t.book().isCheckedOut)("available",t.store.isInLibrary(t.book().id)&&!t.book().isCheckedOut)("global",!t.store.isInLibrary(t.book().id)),c(),_(t.store.isInLibrary(t.book().id)?5:6),c(2),_(t.book().isCheckedOut&&t.store.isOverdue(t.book())?7:-1),c(2),h("matTooltip",t.book().title),c(),w(t.book().title),c(2),w(t.book().authors),c(3),z("#",t.book().catalogNumber),c(),_(t.book().publishedDate?16:-1),c(2),_(t.store.isInLibrary(t.book().id)?18:19))},dependencies:[Ia,Ma,Aa,Sa,Q,ie,ue,zt,K,q,Pt,Ne],styles:[".book-card[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;flex-direction:column;overflow:hidden;border:1px solid var(--border)!important;background:var(--bg-card)}.book-card[_ngcontent-%COMP%]:hover, .book-card[_ngcontent-%COMP%]:focus-visible{transform:translateY(-4px);box-shadow:var(--shadow-md)!important;border-color:var(--color-primary)!important}.card-cover[_ngcontent-%COMP%]{position:relative;height:180px;overflow:hidden;background:var(--bg-section);display:flex;align-items:center;justify-content:center}.card-cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;padding:12px;transition:transform .3s ease}.card-cover[_ngcontent-%COMP%]   .no-cover[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--text-disabled)}.book-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.status-badge[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;display:flex;align-items:center;gap:4px;padding:4px 10px;border-radius:999px;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.02em;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 2px 6px #00000026;background:var(--color-primary-lt);color:var(--color-primary);border:1px solid var(--color-primary)}.status-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.status-badge.available[_ngcontent-%COMP%]{background:var(--color-success-lt);color:var(--color-success);border:1px solid var(--color-success)}.status-badge.checked-out[_ngcontent-%COMP%]{background:var(--color-warning-lt);color:var(--color-warning);border:1px solid var(--color-warning)}.status-badge.global[_ngcontent-%COMP%]{background:var(--color-external-lt);color:var(--color-external);border:1px solid var(--color-external)}.status-badge.overdue[_ngcontent-%COMP%]{top:40px;background:var(--color-danger-lt);color:var(--color-danger);border:1px solid var(--color-danger)}.card-body[_ngcontent-%COMP%]{flex:1;padding:16px;display:flex;flex-direction:column;gap:4px}.book-title[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700;line-height:1.3;color:var(--text-primary);margin:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.book-authors[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary);margin-bottom:8px}.card-footer[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:space-between;align-items:center}.book-meta[_ngcontent-%COMP%], .catalog-num[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--text-muted)}.card-actions[_ngcontent-%COMP%]{padding:8px 12px;border-top:1px solid var(--border);background:var(--bg-section);opacity:.9}.spacer[_ngcontent-%COMP%]{flex:1}.status-btn[_ngcontent-%COMP%]{color:var(--color-primary)}"],changeDetection:0})};var xr=["determinateSpinner"];function Mr(a,r){if(a&1&&($(),o(0,"svg",11),y(1,"circle",12),l()),a&2){let e=p();D("viewBox",e._viewBox()),c(),J("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),D("r",e._circleRadius())}}var Sr=new T("mat-progress-spinner-default-options",{providedIn:"root",factory:()=>({diameter:Ka})}),Ka=100,Ar=10,Qa=(()=>{class a{_elementRef=d(L);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=d(Sr),t=ht(),i=this._elementRef.nativeElement;this._noopAnimations=t==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=i.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&t==="reduced-motion"&&i.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Ka;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-Ar)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(t&1&&N(xr,5),t&2){let n;I(n=E())&&(i._determinateCircle=n.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,i){t&2&&(D("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),se("mat-"+i.color),J("width",i.diameter,"px")("height",i.diameter,"px")("--mat-progress-spinner-size",i.diameter+"px")("--mat-progress-spinner-active-indicator-width",i.diameter+"px"),M("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",ee],diameter:[2,"diameter","diameter",ee],strokeWidth:[2,"strokeWidth","strokeWidth",ee]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(t&1&&(we(0,Mr,2,8,"ng-template",null,0,Bi),o(2,"div",2,1),$(),o(4,"svg",3),y(5,"circle",4),l()(),Ke(),o(6,"div",5)(7,"div",6)(8,"div",7),ct(9,8),l(),o(10,"div",9),ct(11,8),l(),o(12,"div",10),ct(13,8),l()()()),t&2){let n=me(1);c(4),D("viewBox",i._viewBox()),c(),J("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),D("r",i._circleRadius()),c(4),h("ngTemplateOutlet",n),c(2),h("ngTemplateOutlet",n),c(2),h("ngTemplateOutlet",n)}},dependencies:[Yi],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return a})();var Ua=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=F({type:a});static \u0275inj=V({imports:[R]})}return a})();var Er=["sentinel"];function Tr(a,r){a&1&&y(0,"mat-spinner",2)}function Or(a,r){a&1&&(o(0,"p",3)(1,"mat-icon"),m(2,"travel_explore"),l(),m(3," Search Google Books to discover titles "),l())}function Vr(a,r){if(a&1&&(o(0,"p",4),m(1,"You've seen all "),o(2,"strong"),m(3),l(),m(4," books"),l()),a&2){let e=p();c(3),w(e.store.filteredBooks().length)}}var Ut=class a{store=d(U);loadMore=Pi();ViewMode=Le;sentinelRef=Ni("sentinel");observer=null;isIntersecting=x(!1);constructor(){Fe(()=>{let r=this.sentinelRef()?.nativeElement;r&&(this.observer=new IntersectionObserver(e=>{this.isIntersecting.set(e[0].isIntersecting)},{threshold:.1}),this.observer.observe(r))}),ot(()=>{this.isIntersecting()&&this.store.hasMore()&&this.loadMore.emit()})}ngOnDestroy(){this.observer?.disconnect()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["app-scroll-sentinel"]],viewQuery:function(e,t){e&1&&Fi(t.sentinelRef,Er,5),e&2&&Ri()},outputs:{loadMore:"loadMore"},decls:5,vars:1,consts:[["sentinel",""],["aria-hidden","true",1,"sentinel"],["diameter","32"],[1,"end-message","hint"],[1,"end-message"]],template:function(e,t){e&1&&(o(0,"div",1,0),g(2,Tr,1,0,"mat-spinner",2)(3,Or,4,0,"p",3)(4,Vr,5,1,"p",4),l()),e&2&&(c(2),_(t.store.hasMore()?2:!t.store.isApiMode()&&t.store.viewMode()===t.ViewMode.DISCOVER?3:t.store.filteredBooks().length>0?4:-1))},dependencies:[Ua,Qa,K,q],styles:[".sentinel[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:32px;min-height:80px}.end-message[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem;margin:0}.end-message.hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--text-muted)}.end-message.hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;opacity:.6}"],changeDetection:0})};var Te=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected=null;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new P;constructor(r=!1,e,t=!0,i){this._multiple=r,this._emitChanges=t,this.compareWith=i,e&&e.length&&(r?e.forEach(n=>this._markSelected(n)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...r){this._verifyValueAssignment(r),r.forEach(t=>this._markSelected(t));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...r){this._verifyValueAssignment(r),r.forEach(t=>this._unmarkSelected(t));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...r){this._verifyValueAssignment(r);let e=this.selected,t=new Set(r.map(n=>this._getConcreteValue(n)));r.forEach(n=>this._markSelected(n)),e.filter(n=>!t.has(this._getConcreteValue(n,t))).forEach(n=>this._unmarkSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(r){return this.isSelected(r)?this.deselect(r):this.select(r)}clear(r=!0){this._unmarkAll();let e=this._hasQueuedChanges();return r&&this._emitChangeEvent(),e}isSelected(r){return this._selection.has(this._getConcreteValue(r))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(r){this._multiple&&this.selected&&this._selected.sort(r)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(r){r=this._getConcreteValue(r),this.isSelected(r)||(this._multiple||this._unmarkAll(),this.isSelected(r)||this._selection.add(r),this._emitChanges&&this._selectedToEmit.push(r))}_unmarkSelected(r){r=this._getConcreteValue(r),this.isSelected(r)&&(this._selection.delete(r),this._emitChanges&&this._deselectedToEmit.push(r))}_unmarkAll(){this.isEmpty()||this._selection.forEach(r=>this._unmarkSelected(r))}_verifyValueAssignment(r){r.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(r,e){if(this.compareWith){e=e??this._selection;for(let t of e)if(this.compareWith(r,t))return t;return r}else return r}};var Rr=["trigger"],Br=["panel"],Pr=[[["mat-select-trigger"]],"*"],Lr=["mat-select-trigger","*"];function Nr(a,r){if(a&1&&(o(0,"span",4),m(1),l()),a&2){let e=p();c(),w(e.placeholder)}}function zr(a,r){a&1&&Z(0)}function Yr(a,r){if(a&1&&(o(0,"span",11),m(1),l()),a&2){let e=p(2);c(),w(e.triggerValue)}}function Hr(a,r){if(a&1&&(o(0,"span",5),g(1,zr,1,0)(2,Yr,2,1,"span",11),l()),a&2){let e=p();c(),_(e.customTrigger?1:2)}}function Gr(a,r){if(a&1){let e=S();o(0,"div",12,1),u("keydown",function(i){f(e);let n=p();return b(n._handleKeydown(i))}),Z(2,1),l()}if(a&2){let e=p();se(e.panelClass),M("mat-select-panel-animations-enabled",!e._animationsDisabled)("mat-primary",(e._parentFormField==null?null:e._parentFormField.color)==="primary")("mat-accent",(e._parentFormField==null?null:e._parentFormField.color)==="accent")("mat-warn",(e._parentFormField==null?null:e._parentFormField.color)==="warn")("mat-undefined",!(e._parentFormField!=null&&e._parentFormField.color)),D("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var jr=new T("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let a=d(De);return()=>yt(a)}}),Wr=new T("MAT_SELECT_CONFIG"),qr=new T("MatSelectTrigger"),Mi=class{source;value;constructor(r,e){this.source=r,this.value=e}},Xa=(()=>{class a{_viewportRuler=d(ra);_changeDetectorRef=d(O);_elementRef=d(L);_dir=d(le,{optional:!0});_idGenerator=d(he);_renderer=d(fe);_parentFormField=d(Rt,{optional:!0});ngControl=d(pi,{self:!0,optional:!0});_liveAnnouncer=d(Qi);_defaultOptions=d(Wr,{optional:!0});_animationsDisabled=Ae();_popoverLocation;_initialized=new P;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let i=this.panel.nativeElement,n=aa(e,this.options,this.optionGroups),s=t._getHostElement();e===0&&n===1?i.scrollTop=0:i.scrollTop=na(s.offsetTop,s.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Mi(this,e)}_scrollStrategyFactory=d(jr);_panelOpen=!1;_compareWith=(e,t)=>e===t;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new P;_errorStateTracker;stateChanges=new P;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=x(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Ee.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Ai(()=>{let e=this.options;return e?e.changes.pipe(ke(e),ei(()=>ge(...e.map(t=>t.onSelectionChange)))):this._initialized.pipe(ei(()=>this.optionSelectionChanges))});openedChange=new v;_openedStream=this.openedChange.pipe(qe(e=>e),Jt(()=>{}));_closedStream=this.openedChange.pipe(qe(e=>!e),Jt(()=>{}));selectionChange=new v;valueChange=new v;constructor(){let e=d(ut),t=d(hi,{optional:!0}),i=d(Xe,{optional:!0}),n=d(new Re("tabindex"),{optional:!0}),s=d(pa,{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Gi(e,this.ngControl,i,t,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=n==null?0:parseInt(n)||0,this._popoverLocation=s?.usePopover===!1?null:"inline",this.id=this.id}ngOnInit(){this._selectionModel=new Te(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(_e(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(_e(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(ke(null),_e(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval),e.panelClass&&this.panelClass instanceof Set&&(this.panelClass=Array.from(this.panelClass))}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(at(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&ri(this._trackedModal,"aria-owns",t),$i(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;ri(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{t(),clearTimeout(i),this._cleanupDetach=void 0};let e=this.panel.nativeElement,t=this._renderer.listen(e,"animationend",n=>{n.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),i=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,i=t===40||t===38||t===37||t===39,n=t===13||t===32,s=this._keyManager;if(!s.isTyping()&&n&&!Y(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){let k=this.selected;s.onKeydown(e);let B=this.selected;B&&k!==B&&this._liveAnnouncer.announce(B.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,i=e.keyCode,n=i===40||i===38,s=t.isTyping();if(n&&e.altKey)e.preventDefault(),this.close();else if(!s&&(i===13||i===32)&&t.activeItem&&!Y(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!s&&this._multiple&&i===65&&e.ctrlKey){e.preventDefault();let k=this.options.some(B=>!B.disabled&&!B.selected);this.options.forEach(B=>{B.disabled||(k?B.select():B.deselect())})}else{let k=t.activeItemIndex;t.onKeydown(e),this._multiple&&n&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==k&&t.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!Y(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return(i.value!=null||this.canSelectNullableOptions)&&this._compareWith(i.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof di?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Xi(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=ge(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(_e(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ge(...this.options.map(t=>t._stateChanges)).pipe(_e(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let i=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(i=>i.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let t=this._elementRef.nativeElement;e.length?t.setAttribute("aria-describedby",e.join(" ")):t.removeAttribute("aria-describedby")}onContainerClick(e){let t=ji(e);t&&(t.tagName==="MAT-OPTION"||t.classList.contains("cdk-overlay-backdrop")||t.closest(".mat-mdc-select-panel"))||(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-select"]],contentQueries:function(t,i,n){if(t&1&&Se(n,qr,5)(n,bt,5)(n,ia,5),t&2){let s;I(s=E())&&(i.customTrigger=s.first),I(s=E())&&(i.options=s),I(s=E())&&(i.optionGroups=s)}},viewQuery:function(t,i){if(t&1&&N(Rr,5)(Br,5)(mi,5),t&2){let n;I(n=E())&&(i.trigger=n.first),I(n=E())&&(i.panel=n.first),I(n=E())&&(i._overlayDir=n.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(t,i){t&1&&u("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),t&2&&(D("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),M("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple)("mat-select-open",i.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",A],disableRipple:[2,"disableRipple","disableRipple",A],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ee(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",A],placeholder:"placeholder",required:[2,"required","required",A],multiple:[2,"multiple","multiple",A],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",A],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",ee],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",A]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[pe([{provide:ui,useExisting:a},{provide:ta,useExisting:a}]),re],ngContentSelectors:Lr,decls:11,vars:10,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayUsePopover"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",1,"mat-mdc-select-panel","mdc-menu-surface","mdc-menu-surface--open",3,"keydown"]],template:function(t,i){if(t&1){let n=S();oe(Pr),o(0,"div",2,0),u("click",function(){return f(n),b(i.open())}),o(3,"div",3),g(4,Nr,2,1,"span",4)(5,Hr,3,1,"span",5),l(),o(6,"div",6)(7,"div",7),$(),o(8,"svg",8),y(9,"path",9),l()()()(),we(10,Gr,3,16,"ng-template",10),u("detach",function(){return f(n),b(i.close())})("backdropClick",function(){return f(n),b(i.close())})("overlayKeydown",function(k){return f(n),b(i._handleOverlayKeydown(k))})}if(t&2){let n=me(1);c(3),D("id",i._valueId),c(),_(i.empty?4:5),c(6),h("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||n)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayUsePopover",i._popoverLocation)}},dependencies:[di,mi],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return a})();var $a=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=F({type:a});static \u0275inj=V({imports:[Ct,si,R,vt,ze,si]})}return a})();var Qr=["button"],Ur=["*"];function Xr(a,r){if(a&1&&(o(0,"div",2),y(1,"mat-pseudo-checkbox",6),l()),a&2){let e=p();c(),h("disabled",e.disabled)}}var Za=new T("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:()=>({hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1})}),Ja=new T("MatButtonToggleGroup"),$r={provide:It,useExisting:Oe(()=>Si),multi:!0},Xt=class{source;value;constructor(r,e){this.source=r,this.value=e}},Si=(()=>{class a{_changeDetector=d(O);_dir=d(le,{optional:!0});_multiple=!1;_disabled=!1;_disabledInteractive=!1;_selectionModel;_rawValue;_controlValueAccessorChangeFn=()=>{};_onTouched=()=>{};_buttonToggles;appearance;get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}_name=d(he).getId("mat-button-toggle-group-");vertical=!1;get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(t=>t.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}valueChange=new v;get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}change=new v;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}_hideSingleSelectionIndicator;get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}_hideMultipleSelectionIndicator;constructor(){let e=d(Za,{optional:!0});this.appearance=e&&e.appearance?e.appearance:"standard",this._hideSingleSelectionIndicator=e?.hideSingleSelectionIndicator??!1,this._hideMultipleSelectionIndicator=e?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new Te(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled||Y(e))return;let i=e.target.id,n=this._buttonToggles.toArray().findIndex(k=>k.buttonId===i),s=null;switch(e.keyCode){case 32:case 13:s=this._buttonToggles.get(n)||null;break;case 38:s=this._getNextButton(n,-1);break;case 37:s=this._getNextButton(n,this.dir==="ltr"?-1:1);break;case 40:s=this._getNextButton(n,1);break;case 39:s=this._getNextButton(n,this.dir==="ltr"?1:-1);break;default:return}s&&(e.preventDefault(),s._onButtonClick(),s.focus())}_emitChangeEvent(e){let t=new Xt(e,this.value);this._rawValue=t.value,this._controlValueAccessorChangeFn(t.value),this.change.emit(t)}_syncButtonToggle(e,t,i=!1,n=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):n=!0,n?Promise.resolve().then(()=>this._updateModelValue(e,i)):this._updateModelValue(e,i)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>e.value!=null&&t===e.value):e.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){let t=this._buttonToggles.get(e);if(!t.disabled){t.tabIndex=0;break}}}_getNextButton(e,t){let i=this._buttonToggles;for(let n=1;n<=i.length;n++){let s=(e+t*n+i.length)%i.length,k=i.get(s);if(k&&!k.disabled)return k}return null}_setSelectionByValue(e){if(this._rawValue=e,!this._buttonToggles)return;let t=this._buttonToggles.toArray();if(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i,t))):(this._clearSelection(),this._selectValue(e,t)),!this.multiple&&t.every(i=>i.tabIndex===-1)){for(let i of t)if(!i.disabled){i.tabIndex=0;break}}}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e,t){for(let i of t)if(i.value===e){i.checked=!0,this._selectionModel.select(i),this.multiple||(i.tabIndex=0);break}}_updateModelValue(e,t){t&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}static \u0275fac=function(t){return new(t||a)};static \u0275dir=W({type:a,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,n){if(t&1&&Se(n,$t,5),t&2){let s;I(s=E())&&(i._buttonToggles=s)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(t,i){t&1&&u("keydown",function(s){return i._keydown(s)}),t&2&&(D("role",i.multiple?"group":"radiogroup")("aria-disabled",i.disabled),M("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard",i.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",A],value:"value",multiple:[2,"multiple","multiple",A],disabled:[2,"disabled","disabled",A],disabledInteractive:[2,"disabledInteractive","disabledInteractive",A],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",A],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",A]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[pe([$r,{provide:Ja,useExisting:a}])]})}return a})(),$t=(()=>{class a{_changeDetectorRef=d(O);_elementRef=d(L);_focusMonitor=d(Wi);_idGenerator=d(he);_animationDisabled=Ae();_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex()}set tabIndex(e){this._tabIndex.set(e)}_tabIndex;disableRipple=!1;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new v;constructor(){d(Ie).load(gt);let e=d(Ja,{optional:!0}),t=d(new Re("tabindex"),{optional:!0})||"",i=d(Za,{optional:!0});this._tabIndex=x(parseInt(t)||0),this.buttonToggleGroup=e,this._appearance=i&&i.appearance?i.appearance:"standard",this._disabledInteractive=i?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationDisabled||this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let t=this.buttonToggleGroup._buttonToggles.find(i=>i.tabIndex===0);t&&(t.tabIndex=-1),this.tabIndex=0}this.change.emit(new Xt(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(t&1&&N(Qr,5),t&2){let n;I(n=E())&&(i._buttonElement=n.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(t,i){t&1&&u("focus",function(){return i.focus()}),t&2&&(D("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),M("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-disabled-interactive",i.disabledInteractive)("mat-button-toggle-appearance-standard",i.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",A],appearance:"appearance",checked:[2,"checked","checked",A],disabled:[2,"disabled","disabled",A],disabledInteractive:[2,"disabledInteractive","disabledInteractive",A]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:Ur,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(t,i){if(t&1){let n=S();oe(),o(0,"button",1,0),u("click",function(){return f(n),b(i._onButtonClick())}),g(2,Xr,2,1,"div",2),o(3,"span",3),Z(4),l()(),y(5,"span",4)(6,"span",5)}if(t&2){let n=me(1);h("id",i.buttonId)("disabled",i.disabled&&!i.disabledInteractive||null),D("role",i.isSingleSelector()?"radio":"button")("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-pressed",i.isSingleSelector()?null:i.checked)("aria-checked",i.isSingleSelector()?i.checked:null)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),c(2),_(i.buttonToggleGroup&&(!i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideSingleSelectionIndicator||i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),c(4),h("matRippleTrigger",n)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[Ji,ea],styles:[`.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mat-button-toggle-legacy-shape);transform:translateZ(0)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-button-toggle-legacy-text-color);font-family:var(--mat-button-toggle-legacy-label-text-font);font-size:var(--mat-button-toggle-legacy-label-text-size);line-height:var(--mat-button-toggle-legacy-label-text-line-height);font-weight:var(--mat-button-toggle-legacy-label-text-weight);letter-spacing:var(--mat-button-toggle-legacy-label-text-tracking);--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-button-toggle-legacy-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-legacy-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-button-toggle-legacy-selected-state-text-color);background-color:var(--mat-button-toggle-legacy-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-button-toggle-legacy-disabled-state-text-color);background-color:var(--mat-button-toggle-legacy-disabled-state-background-color);--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color: var(--mat-button-toggle-legacy-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-button-toggle-legacy-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-button-toggle-background-color, transparent);font-family:var(--mat-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color: var(--mat-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-button-toggle-legacy-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-button-toggle-legacy-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius: var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}
`],encapsulation:2,changeDetection:0})}return a})(),en=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=F({type:a});static \u0275inj=V({imports:[ft,$t,R]})}return a})();function Jr(a,r){a&1&&Qe(0,"div",2)}var eo=new T("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var an=(()=>{class a{_elementRef=d(L);_ngZone=d(Ve);_changeDetectorRef=d(O);_renderer=d(fe);_cleanupTransitionEnd;constructor(){let e=ht(),t=d(eo,{optional:!0});this._isNoopAnimation=e==="di-disabled",e==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),t&&(t.color&&(this.color=this._defaultColor=t.color),this.mode=t.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=tn(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=tn(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new v;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,i){t&2&&(D("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),se("mat-"+i.color),M("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",ee],bufferValue:[2,"bufferValue","bufferValue",ee],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,i){t&1&&(xe(0,"div",0),Qe(1,"div",1),g(2,Jr,1,0,"div",2),Me(),xe(3,"div",3),Qe(4,"span",4),Me(),xe(5,"div",5),Qe(6,"span",4),Me()),t&2&&(c(),J("flex-basis",i._getBufferBarFlexBasis()),c(),_(i.mode==="buffer"?2:-1),c(),J("transform",i._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{background-image:radial-gradient(circle, var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant)) calc(var(--mat-progress-bar-track-height, 4px) / 2), transparent 0);background-repeat:repeat-x;background-size:calc(calc(var(--mat-progress-bar-track-height, 4px) / 2)*5);background-position:left;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return a})();function tn(a,r=0,e=100){return Math.max(r,Math.min(e,a))}var nn=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=F({type:a});static \u0275inj=V({imports:[R]})}return a})();var io=(a,r)=>r.value;function ao(a,r){if(a&1&&(o(0,"mat-option",8),m(1),l()),a&2){let e=r.$implicit;h("value",e.value),c(),w(e.label)}}function no(a,r){if(a&1){let e=S();o(0,"button",17),u("click",function(){f(e);let i=p();return b(i.toggleSortDir())}),o(1,"mat-icon"),m(2),l()()}if(a&2){let e=p();h("matTooltip",e.store.sortDirection()===e.SortDirection.ASC?"Ascending":"Descending"),c(2),w(e.store.sortDirection()===e.SortDirection.ASC?"arrow_upward":"arrow_downward")}}function ro(a,r){if(a&1&&(o(0,"strong"),m(1),l(),m(2," books ")),a&2){let e=p();c(),w(e.store.filteredBooks().length)}}function oo(a,r){if(a&1&&(o(0,"strong"),m(1),l(),m(2," results ")),a&2){let e=p();c(),w(e.store.visibleBooks().length)}}function so(a,r){a&1&&y(0,"mat-progress-bar",16)}var Zt=class a{store=d(U);destroy$=new P;searchControl=new ba("");isScrolled=x(!1);ViewMode=Le;SortField=ua;SortDirection=ga;inventoryOptions=[{label:"Title",value:"title"},{label:"Author",value:"authors"},{label:"Year",value:"publishedDate"},{label:"Catalog #",value:"catalogNumber"}];discoverOptions=[{label:"Relevance",value:"relevance"},{label:"Newest",value:"newest"}];sortOptions=ai(()=>this.store.viewMode()==="inventory"?this.inventoryOptions:this.discoverOptions);currentSortField=ai(()=>this.store.viewMode()==="inventory"?this.store.inventorySortField():this.store.discoverSortField());constructor(){ot(()=>{let r=this.store.searchQuery();this.searchControl.value!==r&&this.searchControl.setValue(r,{emitEvent:!1})})}ngOnInit(){this.searchControl.valueChanges.pipe(Ii(300),Ei(),_e(this.destroy$)).subscribe(r=>{this.store.searchQuery.set(r??""),this.store.resetVisibleCount()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSortChange(r){this.store.viewMode()==="inventory"?this.store.inventorySortField.set(r):this.store.discoverSortField.set(r)}toggleSortDir(){this.store.sortDirection.update(r=>r==="asc"?"desc":"asc"),this.store.resetVisibleCount()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["app-book-filter"]],decls:33,vars:12,consts:[[1,"filter-header"],[1,"controls-grid"],["appearance","outline","subscriptSizing","dynamic",1,"search-field"],["matInput","","placeholder","Type to search...",3,"formControl"],["matSuffix",""],[1,"sort-group"],["appearance","outline","subscriptSizing","dynamic",1,"sort-field"],[3,"selectionChange","value"],[3,"value"],[1,"dir-toggle-wrap"],["mat-icon-button","",3,"matTooltip"],[1,"tabs-row"],["hideSingleSelectionIndicator","",1,"subtle-tabs",3,"change","value"],[1,"spacer"],[1,"stats-box"],[1,"stats"],["mode","indeterminate",1,"loading-bar"],["mat-icon-button","",3,"click","matTooltip"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),m(4),l(),y(5,"input",3),o(6,"mat-icon",4),m(7,"search"),l()(),o(8,"div",5)(9,"mat-form-field",6)(10,"mat-label"),m(11),l(),o(12,"mat-select",7),u("selectionChange",function(n){return t.onSortChange(n.value)}),be(13,ao,2,2,"mat-option",8,io),l()(),o(15,"div",9),g(16,no,3,2,"button",10),l()()(),o(17,"div",11)(18,"mat-button-toggle-group",12),u("change",function(n){return t.store.viewMode.set(n.value)}),o(19,"mat-button-toggle",8)(20,"mat-icon"),m(21,"inventory_2"),l(),m(22," Inventory "),l(),o(23,"mat-button-toggle",8)(24,"mat-icon"),m(25,"travel_explore"),l(),m(26," Discover "),l()(),y(27,"span",13),o(28,"div",14)(29,"p",15),g(30,ro,3,1)(31,oo,3,1),l()()(),g(32,so,1,0,"mat-progress-bar",16),l()),e&2&&(M("scrolled",t.isScrolled()),c(4),w(t.store.viewMode()===t.ViewMode.INVENTORY?"Search Inventory":"Search Google Books"),c(),h("formControl",t.searchControl),c(6),w(t.store.viewMode()===t.ViewMode.INVENTORY?"Sort Inventory":"Sort by"),c(),h("value",t.currentSortField()),c(),ve(t.sortOptions()),c(3),_(t.store.viewMode()===t.ViewMode.INVENTORY?16:-1),c(2),h("value",t.store.viewMode()),c(),h("value",t.ViewMode.INVENTORY),c(4),h("value",t.ViewMode.DISCOVER),c(7),_(t.store.viewMode()===t.ViewMode.INVENTORY?30:31),c(2),_(t.store.isLoadingApi()?32:-1))},dependencies:[Ot,Et,Tt,ya,K,q,Q,ue,ze,Bt,Vt,Ft,Nt,Lt,$a,Xa,bt,en,Si,$t,nn,an,Pt,Ne],styles:[".filter-header[_ngcontent-%COMP%]{background-color:var(--bg-section);z-index:100;padding:16px 24px;margin-bottom:8px;border-bottom:1px solid var(--border);border-radius:var(--radius-md);display:flex;flex-direction:column;gap:12px;transition:box-shadow var(--transition),padding var(--transition)}.filter-header.scrolled[_ngcontent-%COMP%]{box-shadow:var(--shadow-md)}.controls-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:24px;align-items:center}.tabs-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.subtle-tabs[_ngcontent-%COMP%]{border:1px solid var(--border);background:var(--bg-app);border-radius:var(--radius-sm);overflow:hidden}.subtle-tabs[_ngcontent-%COMP%]     .mat-button-toggle-button .mat-button-toggle-focus-indicator{display:none}.subtle-tabs[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{height:38px;line-height:38px;padding:0 4px;font-size:.875rem;color:var(--text-secondary);border-color:var(--border);transition:color var(--transition),background-color var(--transition),box-shadow var(--transition)}.subtle-tabs[_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--bg-card);color:var(--color-primary);font-weight:600;box-shadow:inset 0 -2px 0 var(--color-primary)}.subtle-tabs[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;margin-right:8px;vertical-align:middle}.spacer[_ngcontent-%COMP%]{flex:1}.sort-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;min-width:260px}.dir-toggle-wrap[_ngcontent-%COMP%]{width:40px;display:flex;justify-content:center}.search-field[_ngcontent-%COMP%], .sort-field[_ngcontent-%COMP%]{flex:1}.stats[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0;white-space:nowrap;padding:4px 12px;background:var(--bg-app);border-radius:999px;border:1px solid var(--border)}.loading-bar[_ngcontent-%COMP%]{position:absolute;bottom:-1px;left:0;right:0;height:2px}@media(max-width:900px){.filter-header[_ngcontent-%COMP%]{top:0}.controls-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.sort-group[_ngcontent-%COMP%]{min-width:0}}@media(max-width:480px){.subtle-tabs[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})};var lo=(a,r)=>r.id;function co(a,r){a&1&&(o(0,"div",1)(1,"mat-icon",3),m(2,"sync"),l(),o(3,"h3"),m(4,"Searching..."),l(),o(5,"p"),m(6,"Fetching results from Google Books."),l()())}function mo(a,r){if(a&1&&(o(0,"div",2)(1,"mat-icon"),m(2,"search_off"),l(),o(3,"h3"),m(4),l(),o(5,"p"),m(6,"Try a different search term or check your collection."),l()()),a&2){let e=p();c(4),z('No books match "',e.store.searchQuery(),'"')}}function po(a,r){if(a&1){let e=S();o(0,"div",2)(1,"mat-icon"),m(2,"library_books"),l(),o(3,"h3"),m(4,"Your library is empty"),l(),o(5,"p"),m(6,"Add your first book to get started."),l(),o(7,"button",4),u("click",function(){f(e);let i=p();return b(i.openAddDialog())}),o(8,"mat-icon"),m(9,"add"),l(),m(10," Add First Book "),l()()}}function ho(a,r){if(a&1&&y(0,"app-book-card",6),a&2){let e=r.$implicit;h("book",e)}}function uo(a,r){if(a&1){let e=S();o(0,"div",5),be(1,ho,1,1,"app-book-card",6,lo),l(),o(3,"app-scroll-sentinel",7),u("loadMore",function(){f(e);let i=p();return b(i.store.loadNextPage())}),l()}if(a&2){let e=p();c(),ve(e.store.visibleBooks())}}var rn=class a{store=d(U);dialog=d(Pe);openAddDialog(){this.dialog.open(Ye,{width:"600px",maxWidth:"95vw",data:{book:null}})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["app-book-list"]],decls:6,vars:1,consts:[[1,"scroll-content"],[1,"loading-state"],[1,"empty-state"],[1,"spinning"],["mat-raised-button","","color","primary",3,"click"],[1,"book-grid"],[3,"book"],[3,"loadMore"]],template:function(e,t){e&1&&(y(0,"app-book-filter"),o(1,"div",0),g(2,co,7,0,"div",1)(3,mo,7,1,"div",2)(4,po,11,0,"div",2)(5,uo,4,0),l()),e&2&&(c(2),_(t.store.isLoadingApi()&&t.store.visibleBooks().length===0?2:t.store.visibleBooks().length===0&&t.store.searchQuery()?3:t.store.books().length===0&&!t.store.isLoadingApi()?4:5))},dependencies:[Qt,Ut,Zt,K,q,Q,ie],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.scroll-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding-inline-end:12px}.scroll-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.scroll-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.scroll-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}.scroll-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-disabled)}.book-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:24px;padding-bottom:60px;margin-top:8px}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:100px 24px;text-align:center;color:var(--text-secondary)}.loading-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;height:64px;width:64px;color:var(--color-primary);opacity:.2}.loading-state[_ngcontent-%COMP%]   .spinning[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite;opacity:.8}.loading-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin:0;letter-spacing:-.01em}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;max-width:400px;line-height:1.6}.loading-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:12px;font-weight:600}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media(max-width:500px){.book-grid[_ngcontent-%COMP%]{grid-template-columns:1;gap:12px}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:60px 16px}}"],changeDetection:0})};export{rn as BookListComponent};
